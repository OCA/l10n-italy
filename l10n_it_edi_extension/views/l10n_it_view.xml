<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="account_invoice_form_l10n_it_inherit_view" model="ir.ui.view">
        <field name="name">account.move.form.l10n.it.inherit.view</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="l10n_it_edi.account_invoice_form_l10n_it" />
        <field name="arch" type="xml">
            <data>
                <xpath
                    expr="//page[@name='electronic_invoicing']//field[@name='l10n_it_edi_attachment_id']"
                    position="attributes"
                >
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath
                    expr="//page[@name='electronic_invoicing']//field[@name='l10n_it_edi_attachment_id']"
                    position="after"
                >
                    <label
                        for="l10n_it_edi_attachment_id"
                        class="oe_inline"
                        invisible="not l10n_it_edi_attachment_id"
                    />
                    <div class="o_row" invisible="not l10n_it_edi_attachment_id">
                        <field
                            name="l10n_it_edi_attachment_id"
                            groups="account.group_account_invoice"
                            readonly="1"
                        />
                        <button
                            name="action_l10n_it_edi_attachment_preview"
                            type="object"
                            string="Preview FPA"
                        />
                    </div>
                </xpath>
            </data>
        </field>
    </record>
</odoo>
